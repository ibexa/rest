# Root resource


ezpublish_rest_loadRootResource:
    path: /
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Root:loadRootResource
    methods: [GET]


# Sections


ezpublish_rest_listSections:
    path: /content/sections
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Section:listSections
    methods: [GET]

ezpublish_rest_createSection:
    path: /content/sections
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Section:createSection
    methods: [POST]

ezpublish_rest_loadSection:
    path: /content/sections/{sectionId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Section:loadSection
    methods: [GET]
    requirements:
        sectionId: \d+

ezpublish_rest_updateSection:
    path: /content/sections/{sectionId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Section:updateSection
    methods: [PATCH]
    requirements:
        sectionId: \d+

ezpublish_rest_deleteSection:
    path: /content/sections/{sectionId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Section:deleteSection
    methods: [DELETE]
    requirements:
        sectionId: \d+


# Content


ezpublish_rest_redirectContent:
    path: /content/objects
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:redirectContent
    methods: [GET]

ezpublish_rest_createContent:
    path: /content/objects
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:createContent
    methods: [POST]

ezpublish_rest_updateContentMetadata:
    path: /content/objects/{contentId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:updateContentMetadata
    methods: [PATCH]
    requirements:
        contentId: \d+

ezpublish_rest_loadContent:
    path: /content/objects/{contentId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:loadContent
    methods: [GET]
    requirements:
        contentId: \d+

ezpublish_rest_deleteContent:
    path: /content/objects/{contentId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:deleteContent
    methods: [DELETE]
    requirements:
        contentId: \d+

ezpublish_rest_copyContent:
    path: /content/objects/{contentId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:copyContent
    methods: [COPY]
    requirements:
        contentId: \d+

ezpublish_rest_deleteContentTranslation:
    path: /content/objects/{contentId}/translations/{languageCode}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:deleteContentTranslation
    methods: [DELETE]

ezpublish_rest_redirectCurrentVersionRelations:
    path: /content/objects/{contentId}/relations
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:redirectCurrentVersionRelations
    methods: [GET]
    requirements:
        contentId: \d+

ezpublish_rest_loadContentVersions:
    path: /content/objects/{contentId}/versions
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:loadContentVersions
    methods: [GET]
    requirements:
        contentId: \d+

ezpublish_rest_loadVersionRelations:
    path: /content/objects/{contentId}/versions/{versionNumber}/relations
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:loadVersionRelations
    methods: [GET]
    requirements:
        contentId: \d+
        versionNumber: \d+

ezpublish_rest_createRelation:
    path: /content/objects/{contentId}/versions/{versionNumber}/relations
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:createRelation
    methods: [POST]
    requirements:
        contentId: \d+
        versionNumber: \d+

ezpublish_rest_loadVersionRelation:
    path: /content/objects/{contentId}/versions/{versionNumber}/relations/{relationId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:loadVersionRelation
    methods: [GET]
    requirements:
        contentId: \d+
        versionNumber: \d+
        relationId: \d+

ezpublish_rest_removeRelation:
    path: /content/objects/{contentId}/versions/{versionNumber}/relations/{relationId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:removeRelation
    methods: [DELETE]
    requirements:
        contentId: \d+
        versionNumber: \d+
        relationId: \d+

ezpublish_rest_loadContentInVersion:
    path: /content/objects/{contentId}/versions/{versionNumber}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:loadContentInVersion
    methods: [GET]
    requirements:
        contentId: \d+
        versionNumber: \d+

ezpublish_rest_updateVersion:
    path: /content/objects/{contentId}/versions/{versionNumber}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:updateVersion
    methods: [PATCH]
    requirements:
        contentId: \d+
        versionNumber: \d+

ezpublish_rest_deleteContentVersion:
    path: /content/objects/{contentId}/versions/{versionNumber}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:deleteContentVersion
    methods: [DELETE]
    requirements:
        contentId: \d+
        versionNumber: \d+

ezpublish_rest_deleteTranslationFromDraft:
    path: /content/objects/{contentId}/versions/{versionNumber}/translations/{languageCode}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:deleteTranslationFromDraft
    methods: [DELETE]
    requirements:
        contentId: \d+
        versionNumber: \d+

ezpublish_rest_createDraftFromVersion:
    path: /content/objects/{contentId}/versions/{versionNumber}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:createDraftFromVersion
    methods: [COPY]
    requirements:
        contentId: \d+
        versionNumber: \d+

ezpublish_rest_publishVersion:
    path: /content/objects/{contentId}/versions/{versionNumber}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:publishVersion
    methods: [PUBLISH]
    requirements:
        contentId: \d+
        versionNumber: \d+

ezpublish_rest_redirectCurrentVersion:
    path: /content/objects/{contentId}/currentversion
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:redirectCurrentVersion
    methods: [GET]
    requirements:
        contentId: \d+

ezpublish_rest_createDraftFromCurrentVersion:
    path: /content/objects/{contentId}/currentversion
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:createDraftFromCurrentVersion
    methods: [COPY]
    requirements:
        contentId: \d+

ezpublish_rest_hideContent:
    path: /content/objects/{contentId}/hide
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:hideContent
    methods: [POST]
    requirements:
        contentId: \d+

ezpublish_rest_revealContent:
    path: /content/objects/{contentId}/reveal
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:revealContent
    methods: [POST]
    requirements:
        contentId: \d+

# Binary content

ezpublish_rest_binaryContent_getImageVariation:
    path: /content/binary/images/{imageId}/variations/{variationIdentifier}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\BinaryContent:getImageVariation
    methods: [GET]
    requirements:
        imageId: \d+-\d+(-\d+)?

# Views

# Deprecated in favour of /views from Platform 1.0
ezpublish_rest_createContentView:
    path: /content/views
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Content:createView
    methods: [POST]

# Views, Platform 1.0
ezpublish_rest_views_create:
    path: /views
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Views:createView
    methods: [POST]

ezpublish_rest_views_list:
    path: /views
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Views:listView
    methods: [GET]

ezpublish_rest_views_load:
    path : /views/{viewId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Views:getView
    methods: [GET]

ezpublish_rest_views_load_results:
    path: /views/{viewId}/results
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Views:loadViewResults
    methods: [GET]
# Object states


ezpublish_rest_loadObjectStateGroups:
    path: /content/objectstategroups
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ObjectState:loadObjectStateGroups
    methods: [GET]

ezpublish_rest_createObjectStateGroup:
    path: /content/objectstategroups
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ObjectState:createObjectStateGroup
    methods: [POST]

ezpublish_rest_loadObjectStateGroup:
    path: /content/objectstategroups/{objectStateGroupId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ObjectState:loadObjectStateGroup
    methods: [GET]
    requirements:
        objectStateGroupId: \d+

ezpublish_rest_updateObjectStateGroup:
    path: /content/objectstategroups/{objectStateGroupId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ObjectState:updateObjectStateGroup
    methods: [PATCH]
    requirements:
        objectStateGroupId: \d+

ezpublish_rest_deleteObjectStateGroup:
    path: /content/objectstategroups/{objectStateGroupId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ObjectState:deleteObjectStateGroup
    methods: [DELETE]
    requirements:
        objectStateGroupId: \d+

ezpublish_rest_loadObjectStates:
    path: /content/objectstategroups/{objectStateGroupId}/objectstates
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ObjectState:loadObjectStates
    methods: [GET]
    requirements:
        objectStateGroupId: \d+

ezpublish_rest_createObjectState:
    path: /content/objectstategroups/{objectStateGroupId}/objectstates
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ObjectState:createObjectState
    methods: [POST]
    requirements:
        objectStateGroupId: \d+

ezpublish_rest_loadObjectState:
    path: /content/objectstategroups/{objectStateGroupId}/objectstates/{objectStateId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ObjectState:loadObjectState
    methods: [GET]
    requirements:
        objectStateGroupId: \d+
        objectStateId: \d+

ezpublish_rest_updateObjectState:
    path: /content/objectstategroups/{objectStateGroupId}/objectstates/{objectStateId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ObjectState:updateObjectState
    methods: [PATCH]
    requirements:
        objectStateGroupId: \d+
        objectStateId: \d+

ezpublish_rest_deleteObjectState:
    path: /content/objectstategroups/{objectStateGroupId}/objectstates/{objectStateId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ObjectState:deleteObjectState
    methods: [DELETE]
    requirements:
        objectStateGroupId: \d+
        objectStateId: \d+

ezpublish_rest_getObjectStatesForContent:
    path: /content/objects/{contentId}/objectstates
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ObjectState:getObjectStatesForContent
    methods: [GET]
    requirements:
        contentId: \d+

ezpublish_rest_setObjectStatesForContent:
    path: /content/objects/{contentId}/objectstates
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ObjectState:setObjectStatesForContent
    methods: [PATCH]
    requirements:
        contentId: \d+


# Locations


ezpublish_rest_redirectLocation:
    path: /content/locations
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Location:redirectLocation
    methods: [GET]

ezpublish_rest_loadLocation:
    path: /content/locations/{locationPath}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Location:loadLocation
    methods: [GET]
    requirements:
        locationPath: "[0-9/]+"

ezpublish_rest_updateLocation:
    path: /content/locations/{locationPath}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Location:updateLocation
    methods: [PATCH]
    requirements:
        locationPath: "[0-9/]+"

ezpublish_rest_deleteSubtree:
    path: /content/locations/{locationPath}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Location:deleteSubtree
    methods: [DELETE]
    requirements:
        locationPath: "[0-9/]+"

ezpublish_rest_copySubtree:
    path: /content/locations/{locationPath}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Location:copySubtree
    methods: [COPY]
    requirements:
        locationPath: "[0-9/]+"

ezpublish_rest_moveSubtree:
    path: /content/locations/{locationPath}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Location:moveSubtree
    methods: [MOVE]
    requirements:
        locationPath: "[0-9/]+"

ezpublish_rest_swapLocation:
    path: /content/locations/{locationPath}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Location:swapLocation
    methods: [SWAP]
    requirements:
        locationPath: "[0-9/]+"

ezpublish_rest_loadLocationChildren:
    path: /content/locations/{locationPath}/children
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Location:loadLocationChildren
    methods: [GET]
    requirements:
        locationPath: "[0-9/]+"

ezpublish_rest_loadLocationsForContent:
    path: /content/objects/{contentId}/locations
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Location:loadLocationsForContent
    methods: [GET]
    requirements:
        contentId: \d+

ezpublish_rest_createLocation:
    path: /content/objects/{contentId}/locations
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Location:createLocation
    methods: [POST]
    requirements:
        contentId: \d+


# Content types


ezpublish_rest_loadContentTypeGroupList:
    path: /content/typegroups
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:loadContentTypeGroupList
    methods: [GET]

ezpublish_rest_createContentTypeGroup:
    path: /content/typegroups
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:createContentTypeGroup
    methods: [POST]

ezpublish_rest_loadContentTypeGroup:
    path: /content/typegroups/{contentTypeGroupId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:loadContentTypeGroup
    methods: [GET]
    requirements:
        contentTypeGroupId: \d+

ezpublish_rest_updateContentTypeGroup:
    path: /content/typegroups/{contentTypeGroupId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:updateContentTypeGroup
    methods: [PATCH]
    requirements:
        contentTypeGroupId: \d+

ezpublish_rest_deleteContentTypeGroup:
    path: /content/typegroups/{contentTypeGroupId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:deleteContentTypeGroup
    methods: [DELETE]
    requirements:
        contentTypeGroupId: \d+

ezpublish_rest_listContentTypesForGroup:
    path: /content/typegroups/{contentTypeGroupId}/types
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:listContentTypesForGroup
    methods: [GET]
    requirements:
        contentTypeGroupId: \d+

ezpublish_rest_createContentType:
    path: /content/typegroups/{contentTypeGroupId}/types
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:createContentType
    methods: [POST]
    requirements:
        contentTypeGroupId: \d+

ezpublish_rest_listContentTypes:
    # @todo: Handle all GET parameters
    path: /content/types
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:listContentTypes
    methods: [GET]

ezpublish_rest_copyContentType:
    path: /content/types/{contentTypeId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:copyContentType
    methods: [COPY]
    requirements:
        contentTypeId: \d+

ezpublish_rest_loadContentType:
    path: /content/types/{contentTypeId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:loadContentType
    methods: [GET]
    requirements:
        contentTypeId: \d+

ezpublish_rest_createContentTypeDraft:
    path: /content/types/{contentTypeId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:createContentTypeDraft
    methods: [POST]
    requirements:
        contentTypeId: \d+

ezpublish_rest_deleteContentType:
    path: /content/types/{contentTypeId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:deleteContentType
    methods: [DELETE]
    requirements:
        contentTypeId: \d+

ezpublish_rest_deleteContentTypeDraft:
    path: /content/types/{contentTypeId}/draft
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:deleteContentTypeDraft
    methods: [DELETE]
    requirements:
        contentTypeId: \d+

ezpublish_rest_loadContentTypeFieldDefinitionList:
    path: /content/types/{contentTypeId}/fieldDefinitions
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:loadContentTypeFieldDefinitionList
    methods: [GET]
    requirements:
        contentTypeId: \d+

ezpublish_rest_loadContentTypeFieldDefinition:
    path: /content/types/{contentTypeId}/fieldDefinitions/{fieldDefinitionId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:loadContentTypeFieldDefinition
    methods: [GET]
    requirements:
        contentTypeId: \d+
        fieldDefinitionId: \d+

ezpublish_rest_loadContentTypeDraft:
    path: /content/types/{contentTypeId}/draft
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:loadContentTypeDraft
    methods: [GET]
    requirements:
        contentTypeId: \d+

ezpublish_rest_updateContentTypeDraft:
    path: /content/types/{contentTypeId}/draft
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:updateContentTypeDraft
    methods: [PATCH]
    requirements:
        contentTypeId: \d+

ezpublish_rest_publishContentTypeDraft:
    path: /content/types/{contentTypeId}/draft
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:publishContentTypeDraft
    methods: [PUBLISH]
    requirements:
        contentTypeId: \d+

ezpublish_rest_loadContentTypeDraftFieldDefinitionList:
    path: /content/types/{contentTypeId}/draft/fieldDefinitions
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:loadContentTypeDraftFieldDefinitionList
    methods: [GET]
    requirements:
        contentTypeId: \d+

ezpublish_rest_addContentTypeDraftFieldDefinition:
    path: /content/types/{contentTypeId}/draft/fieldDefinitions
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:addContentTypeDraftFieldDefinition
    methods: [POST]
    requirements:
        contentTypeId: \d+

ezpublish_rest_loadContentTypeDraftFieldDefinition:
    path: /content/types/{contentTypeId}/draft/fieldDefinitions/{fieldDefinitionId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:loadContentTypeDraftFieldDefinition
    methods: [GET]
    requirements:
        contentTypeId: \d+
        fieldDefinitionId: \d+

ezpublish_rest_updateContentTypeDraftFieldDefinition:
    path: /content/types/{contentTypeId}/draft/fieldDefinitions/{fieldDefinitionId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:updateContentTypeDraftFieldDefinition
    methods: [PATCH]
    requirements:
        contentTypeId: \d+
        fieldDefinitionId: \d+

ezpublish_rest_removeContentTypeDraftFieldDefinition:
    path: /content/types/{contentTypeId}/draft/fieldDefinitions/{fieldDefinitionId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:removeContentTypeDraftFieldDefinition
    methods: [DELETE]
    requirements:
        contentTypeId: \d+
        fieldDefinitionId: \d+

ezpublish_rest_loadGroupsOfContentType:
    path: /content/types/{contentTypeId}/groups
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:loadGroupsOfContentType
    methods: [GET]
    requirements:
        contentTypeId: \d+

ezpublish_rest_linkContentTypeToGroup:
    # Handle GET parameter group in controller. Most likely already done
    path: /content/types/{contentTypeId}/groups
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:linkContentTypeToGroup
    methods: [POST]
    requirements:
        contentTypeId: \d+

ezpublish_rest_unlinkContentTypeFromGroup:
    path: /content/types/{contentTypeId}/groups/{contentTypeGroupId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\ContentType:unlinkContentTypeFromGroup
    methods: [DELETE]
    requirements:
        contentTypeId: \d+
        contentTypeGroupId: \d+


# Trash


ezpublish_rest_loadTrashItems:
    path: /content/trash
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Trash:loadTrashItems
    methods: [GET]

ezpublish_rest_emptyTrash:
    path: /content/trash
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Trash:emptyTrash
    methods: [DELETE]

ezpublish_rest_loadTrashItem:
    path: /content/trash/{trashItemId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Trash:loadTrashItem
    methods: [GET]
    requirements:
        trashItemId: \d+

ezpublish_rest_deleteTrashItem:
    path: /content/trash/{trashItemId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Trash:deleteTrashItem
    methods: [DELETE]
    requirements:
        trashItemId: \d+

ezpublish_rest_restoreTrashItem:
    path: /content/trash/{trashItemId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Trash:restoreTrashItem
    methods: [MOVE]
    requirements:
        trashItemId: \d+


# URL wildcards


ezpublish_rest_listURLWildcards:
    path: /content/urlwildcards
    defaults:
        _controller: Ibexa\Rest\Server\Controller\URLWildcard:listURLWildcards
    methods: [GET]

ezpublish_rest_createURLWildcard:
    path: /content/urlwildcards
    defaults:
        _controller: Ibexa\Rest\Server\Controller\URLWildcard:createURLWildcard
    methods: [POST]

ezpublish_rest_loadURLWildcard:
    path: /content/urlwildcards/{urlWildcardId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\URLWildcard:loadURLWildcard
    methods: [GET]
    requirements:
        urlWildcardId: \d+

ezpublish_rest_deleteURLWildcard:
    path: /content/urlwildcards/{urlWildcardId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\URLWildcard:deleteURLWildcard
    methods: [DELETE]
    requirements:
        urlWildcardId: \d+


# User policies


ezpublish_rest_listPoliciesForUser:
    path: /user/policies
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:listPoliciesForUser
    methods: [GET]


# Roles


ezpublish_rest_listRoles:
    path: /user/roles
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:listRoles
    methods: [GET]

ezpublish_rest_createRole:
    path: /user/roles
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:createRole
    methods: [POST]
    requirements:

ezpublish_rest_createRoleDraft:
    path: /user/roles/{roleId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:createRoleDraft
    methods: [POST]
    requirements:
        roleId: \d+

ezpublish_rest_loadRole:
    path: /user/roles/{roleId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:loadRole
    methods: [GET]
    requirements:
        roleId: \d+

ezpublish_rest_loadRoleDraft:
    path: /user/roles/{roleId}/draft
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:loadRoleDraft
    methods: [GET]
    requirements:
        roleId: \d+

ezpublish_rest_updateRole:
    path: /user/roles/{roleId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:updateRole
    methods: [PATCH]
    requirements:
        roleId: \d+

ezpublish_rest_updateRoleDraft:
    path: /user/roles/{roleId}/draft
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:updateRoleDraft
    methods: [PATCH]
    requirements:
        roleId: \d+

ezpublish_rest_publishRoleDraft:
    path: /user/roles/{roleId}/draft
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:publishRoleDraft
    methods: [PUBLISH]
    requirements:
        roleId: \d+

ezpublish_rest_deleteRole:
    path: /user/roles/{roleId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:deleteRole
    methods: [DELETE]
    requirements:
        roleId: \d+

ezpublish_rest_deleteRoleDraft:
    path: /user/roles/{roleId}/draft
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:deleteRoleDraft
    methods: [DELETE]
    requirements:
        roleId: \d+

ezpublish_rest_loadPolicies:
    path: /user/roles/{roleId}/policies
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:loadPolicies
    methods: [GET]
    requirements:
        roleId: \d+

ezpublish_rest_addPolicy:
    path: /user/roles/{roleId}/policies
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:addPolicy
    methods: [POST]
    requirements:
        roleId: \d+

ezpublish_rest_deletePolicies:
    path: /user/roles/{roleId}/policies
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:deletePolicies
    methods: [DELETE]
    requirements:
        roleId: \d+

ezpublish_rest_loadPolicy:
    path: /user/roles/{roleId}/policies/{policyId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:loadPolicy
    methods: [GET]
    requirements:
        roleId: \d+
        policyId: \d+

ezpublish_rest_updatePolicy:
    path: /user/roles/{roleId}/policies/{policyId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:updatePolicy
    methods: [PATCH]
    requirements:
        roleId: \d+
        policyId: \d+

ezpublish_rest_deletePolicy:
    path: /user/roles/{roleId}/policies/{policyId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:deletePolicy
    methods: [DELETE]
    requirements:
        roleId: \d+
        policyId: \d+


# Users


ezpublish_rest_verifyUsers:
    path: /user/users
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:verifyUsers
    methods: [HEAD]

ezpublish_rest_loadUsers:
    path: /user/users
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:loadUsers
    methods: [GET]

ezpublish_rest_loadUser:
    path: /user/users/{userId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:loadUser
    methods: [GET]
    requirements:
        userId: \d+

ezpublish_rest_updateUser:
    path: /user/users/{userId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:updateUser
    methods: [PATCH]
    requirements:
        userId: \d+

ezpublish_rest_deleteUser:
    path: /user/users/{userId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:deleteUser
    methods: [DELETE]
    requirements:
        userId: \d+

ezpublish_rest_loadUserGroupsOfUser:
    path: /user/users/{userId}/groups
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:loadUserGroupsOfUser
    methods: [GET]
    requirements:
        userId: \d+

ezpublish_rest_assignUserToUserGroup:
    path: /user/users/{userId}/groups
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:assignUserToUserGroup
    methods: [POST]
    requirements:
        userId: \d+

ezpublish_rest_unassignUserFromUserGroup:
    path: /user/users/{userId}/groups/{groupPath}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:unassignUserFromUserGroup
    methods: [DELETE]
    requirements:
        userId: \d+
        groupPath: \d+

ezpublish_rest_loadUserDrafts:
    path: /user/users/{userId}/drafts
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:loadUserDrafts
    methods: [GET]
    requirements:
        userId: \d+

ezpublish_rest_loadRoleAssignmentsForUser:
    path: /user/users/{userId}/roles
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:loadRoleAssignmentsForUser
    methods: [GET]
    requirements:
        userId: \d+

ezpublish_rest_assignRoleToUser:
    path: /user/users/{userId}/roles
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:assignRoleToUser
    methods: [POST]
    requirements:
        userId: \d+

ezpublish_rest_loadRoleAssignmentForUser:
    path: /user/users/{userId}/roles/{roleId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:loadRoleAssignmentForUser
    methods: [GET]
    requirements:
        userId: \d+
        roleId: \d+

ezpublish_rest_unassignRoleFromUser:
    path: /user/users/{userId}/roles/{roleId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:unassignRoleFromUser
    methods: [DELETE]
    requirements:
        userId: \d+
        roleId: \d+

ezpublish_rest_loadUserGroups:
    path: /user/groups
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:loadUserGroups
    methods: [GET]

ezpublish_rest_loadRootUserGroup:
    path: /user/groups/root
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:loadRootUserGroup
    methods: [GET]

ezpublish_rest_createRootUserGroup:
    path: /user/groups/subgroups
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:createUserGroup
    methods: [POST]

ezpublish_rest_loadUserGroup:
    path: /user/groups/{groupPath}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:loadUserGroup
    methods: [GET]
    requirements:
        groupPath: "[0-9/]+"

ezpublish_rest_updateUserGroup:
    path: /user/groups/{groupPath}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:updateUserGroup
    methods: [PATCH]
    requirements:
        groupPath: "[0-9/]+"

ezpublish_rest_deleteUserGroup:
    path: /user/groups/{groupPath}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:deleteUserGroup
    methods: [DELETE]
    requirements:
        groupPath: "[0-9/]+"

ezpublish_rest_moveUserGroup:
    path: /user/groups/{groupPath}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:moveUserGroup
    methods: [MOVE]
    requirements:
        groupPath: "[0-9/]+"

ezpublish_rest_loadSubUserGroups:
    path: /user/groups/{groupPath}/subgroups
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:loadSubUserGroups
    methods: [GET]
    requirements:
        groupPath: "[0-9/]+"

ezpublish_rest_createUserGroup:
    path: /user/groups/{groupPath}/subgroups
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:createUserGroup
    methods: [POST]
    requirements:
        groupPath: "[0-9/]+"

ezpublish_rest_loadUsersFromGroup:
    path: /user/groups/{groupPath}/users
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:loadUsersFromGroup
    methods: [GET]
    requirements:
        groupPath: "[0-9/]+"

ezpublish_rest_createUser:
    path: /user/groups/{groupPath}/users
    defaults:
        _controller: Ibexa\Rest\Server\Controller\User:createUser
    methods: [POST]
    requirements:
        groupPath: "[0-9/]+"

ezpublish_rest_loadRoleAssignmentsForUserGroup:
    path: /user/groups/{groupPath}/roles
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:loadRoleAssignmentsForUserGroup
    methods: [GET]
    requirements:
        groupPath: "[0-9/]+"

ezpublish_rest_assignRoleToUserGroup:
    path: /user/groups/{groupPath}/roles
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:assignRoleToUserGroup
    methods: [POST]
    requirements:
        groupPath: "[0-9/]+"

ezpublish_rest_loadRoleAssignmentForUserGroup:
    path: /user/groups/{groupPath}/roles/{roleId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:loadRoleAssignmentForUserGroup
    methods: [GET]
    requirements:
        groupPath: "[0-9/]+"
        roleId: \d+

ezpublish_rest_unassignRoleFromUserGroup:
    path: /user/groups/{groupPath}/roles/{roleId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Role:unassignRoleFromUserGroup
    methods: [DELETE]
    requirements:
        groupPath: "[0-9/]+"
        roleId: \d+

ezpublish_rest_createSession:
    path: /user/sessions
    defaults:
        _controller: Ibexa\Rest\Server\Controller\SessionController:createSessionAction
        csrf_protection: false
    methods: [POST]

ezpublish_rest_deleteSession:
    path: /user/sessions/{sessionId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\SessionController:deleteSessionAction
        csrf_protection: false
    methods: [DELETE]

ezpublish_rest_refreshSession:
    path: /user/sessions/{sessionId}/refresh
    defaults:
        _controller: Ibexa\Rest\Server\Controller\SessionController:refreshSessionAction
        csrf_protection: false
    methods: [POST]


# URL aliases


ezpublish_rest_listGlobalURLAliases:
    path: /content/urlaliases
    defaults:
        _controller: Ibexa\Rest\Server\Controller\URLAlias:listGlobalURLAliases
    methods: [GET]

ezpublish_rest_listLocationURLAliases:
    path: /content/locations/{locationPath}/urlaliases
    defaults:
        _controller: Ibexa\Rest\Server\Controller\URLAlias:listLocationURLAliases
    methods: [GET]
    requirements:
        locationPath: "[0-9/]+"

ezpublish_rest_createURLAlias:
    path: /content/urlaliases
    defaults:
        _controller: Ibexa\Rest\Server\Controller\URLAlias:createURLAlias
    methods: [POST]

ezpublish_rest_loadURLAlias:
    path: /content/urlaliases/{urlAliasId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\URLAlias:loadURLAlias
    methods: [GET]

ezpublish_rest_deleteURLAlias:
    path: /content/urlaliases/{urlAliasId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\URLAlias:deleteURLAlias
    methods: [DELETE]


# Services


ezpublish_rest_loadCountryList:
    path: /services/countries
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Services:loadCountryList
    methods: [GET]

# Bookmark

ezpublish_rest_createBookmark:
    path: /bookmark/{locationId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Bookmark:createBookmark
    methods: [POST]
    requirements:
        locationId: "[0-9]+"

ezpublish_rest_deleteBookmark:
    path: /bookmark/{locationId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Bookmark:deleteBookmark
    methods: [DELETE]
    requirements:
        locationId: "[0-9]+"

ezpublish_rest_isBookmarked:
    path: /bookmark/{locationId}
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Bookmark:isBookmarked
    methods: [GET, HEAD]
    requirements:
        locationId: "[0-9]+"

ezpublish_rest_loadBookmarks:
    path: /bookmark
    defaults:
        _controller: Ibexa\Rest\Server\Controller\Bookmark:loadBookmarks
    methods: [GET]

# JWT

ibexa.platform.rest.create_token:
    path: /user/token/jwt
    controller: Ibexa\Rest\Server\Controller\JWT::createToken
    methods: [POST]
